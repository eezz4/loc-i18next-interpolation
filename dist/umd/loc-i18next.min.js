!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.locI18next=e()}(this,function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(t){if(Array.isArray(t))return t}function r(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,u,l=[],a=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return l}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,r){return e(t)||n(t,r)||f(t,r)||i()}function a(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t){var e=a(t,"string");return"symbol"==typeof e?e:e+""}function f(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}function s(t){function e(e,r,n){var i="text";if(0==r.indexOf("[")){var u=r.split("]");r=u[1],i=u[0].substr(1,u[0].length-1)}r=r.indexOf(";")==r.length-1?r.substr(0,r.length-2):r;var l="<".concat(o.insertTagName,">"),c="</".concat(o.insertTagName,">");if("html"===i)e.innerHTML=t.t(r,a(n,e.innerHTML));else if("text"===i)e.textContent=t.t(r,a(n,e.textContent));else if("prepend"===i){var f=e.innerHTML.indexOf(l),s=e.innerHTML.indexOf(c)+11;f>-1&&s>6&&(e.innerHTML=[e.innerHTML.substring(0,f),e.innerHTML.slice(s)].join("")),e.innerHTML=[l,t.t(r,a(n,e.innerHTML)),c,e.innerHTML].join("")}else if("append"===i){var p=e.innerHTML.indexOf(l),b=e.innerHTML.indexOf(c)+11;p>-1&&b>6&&(e.innerHTML=[e.innerHTML.substring(0,p),e.innerHTML.slice(b)].join("")),e.innerHTML=[e.innerHTML,l,t.t(r,a(n,e.innerHTML),c)].join("")}else if("useTextContent"===i){var d=e.textContent;e.textContent=t.t(d,a(n,e.textContent))}else if(0===i.indexOf("data-")){var g=i.substr("data-".length),v=t.t(r,a(n,e.getAttribute(g)));e.setAttribute(g,v),e.setAttribute(i,v)}else e.setAttribute(i,t.t(r,a(n,e.getAttribute(i))))}function r(t){return JSON.parse(t.replace(/:\s*"([^"]*)"/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/:\s*'([^']*)'/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))}function n(n,i){var a=n.getAttribute(o.selectorAttr);if(a){var c=n,f=n.getAttribute(o.targetAttr);if(null!=f&&(c=n.querySelector(f)||n),!i&&!0===o.useOptionsAttr){var s,p=r(null!==(s=n.getAttribute(o.preTranslateAttr))&&void 0!==s?s:"{}"),b=Object.fromEntries(Object.entries(p).map(function(e){var r=l(e,2),n=r[0],i=r[1];return[n,t.t(i,{defaultValue:i})]}));i=r(n.getAttribute(o.optionsAttr)||"{}"),i=u(u({},i),b)}if(i=i||{},a.indexOf(";")>=0)for(var d=a.split(";"),g=0,v=d.length;g<v;g++)""!=d[g]&&e(c,d[g],i);else e(c,a,i);if(!0===o.useOptionsAttr){var y={};y=u({clone:y},i),delete y.lng,n.setAttribute(o.optionsAttr,JSON.stringify(y))}}}function i(t,e){var r=[];if(t instanceof HTMLElement)r=[t];else{r=((null===e||void 0===e?void 0:e.document)||o.document).querySelectorAll(t)}for(var i=0;i<r.length;i++){for(var u=r[i],l=u.querySelectorAll("["+o.selectorAttr+"]"),a=l.length-1;a>-1;a--)n(l[a],e);n(u,e)}}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=u(u({},p),o);var a=function(t,e){return o.parseDefaultValueFromContent?u(u({},t),{defaultValue:e}):t};return i}var p={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",preTranslateAttr:"data-i18n-pre",insertTagName:"loc-i18n",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document:"undefined"!=typeof window?document:void 0};return{init:s}});